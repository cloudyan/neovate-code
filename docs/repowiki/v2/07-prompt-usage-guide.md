# Prompt ä½¿ç”¨æŒ‡å—

> **ç‰ˆæœ¬**: v2.0
> **ç”¨é€”**: æŒ‡å¯¼å¦‚ä½•ä½¿ç”¨ v2 ç‰ˆæœ¬æ–‡æ¡£ç”Ÿæˆæ¡†æ¶
> **ç›®æ ‡ç”¨æˆ·**: å¼€å‘è€…ã€æŠ€æœ¯æ–‡æ¡£å·¥ç¨‹å¸ˆã€AI åŠ©æ‰‹

---

## ğŸ¯ æ¦‚è¿°

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•å°† `/docs/repowiki/v2/` ç›®å½•ä¸‹çš„æ–‡æ¡£è®¾è®¡ä½œä¸º Prompt æä¾›ç»™å¤§æ¨¡å‹ï¼Œå®ç°æ™ºèƒ½åŒ–çš„ä»£ç ä»“åº“æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆã€‚

---

## ğŸ“ v2 ç‰ˆæœ¬æ–‡æ¡£ç»“æ„

```
/docs/repowiki/v2/
â”œâ”€â”€ 00-main-plan.md                         # ä¸»æ–¹æ¡ˆæ–‡æ¡£ - å››é˜¶æ®µæµç¨‹æ€»è§ˆ
â”œâ”€â”€ 01-phase0-project-profile.md            # é˜¶æ®µ0: é¡¹ç›®ç”»åƒä¸ä¸Šä¸‹æ–‡å»ºç«‹
â”œâ”€â”€ 02-phase1-structure-analysis.md         # é˜¶æ®µ1: æ™ºèƒ½ç»“æ„åˆ†æ
â”œâ”€â”€ 03-phase2-deep-analysis.md              # é˜¶æ®µ2: æ·±åº¦æ¨¡å—æŒ–æ˜
â”œâ”€â”€ 04-phase3-documentation-generation.md   # é˜¶æ®µ3: æ–‡æ¡£ç”Ÿæˆ
â”œâ”€â”€ 05-automation-prompts.md                # è‡ªåŠ¨åŒ–æç¤ºè¯è®¾è®¡
â”œâ”€â”€ 06-enhanced-features.md                 # å¢å¼ºåŠŸèƒ½è®¾è®¡
â””â”€â”€ README.md                               # v2 ç‰ˆæœ¬å¯¼èˆªé¦–é¡µ
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: åˆ†å±‚é€’è¿›å¼ Promptï¼ˆæ¨èï¼‰

```markdown
# è§’è‰²å®šä¹‰

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä»£ç æ¶æ„åˆ†æå¸ˆå’ŒæŠ€æœ¯æ–‡æ¡£å·¥ç¨‹å¸ˆï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹å››é˜¶æ®µæµç¨‹ä¸ºé¡¹ç›®ç”Ÿæˆå®Œæ•´çš„ Wiki æ–‡æ¡£åº“ã€‚

# å‚è€ƒæ–‡æ¡£ä½“ç³»

è¯·å‚è€ƒ `/docs/repowiki/v2/` ç›®å½•ä¸‹çš„æ–‡æ¡£è®¾è®¡è§„èŒƒï¼š

## é˜¶æ®µ0: é¡¹ç›®ç”»åƒï¼ˆå…ˆæ‰§è¡Œï¼‰
- `01-phase0-project-profile.md` - æŠ€æœ¯æ ˆè¯†åˆ«å’Œæ¶æ„æ¨æ–­
- ä¸‰å±‚è¯†åˆ«ï¼šè¯­è¨€ â†’ æ¡†æ¶ â†’ æ¶æ„æ¨¡å¼
- ä¸šåŠ¡å±‚æ¬¡åˆ’åˆ†ï¼šè·¯ç”±/API/æ•°æ®æ¨¡å‹

## é˜¶æ®µ1: ç»“æ„åˆ†æ
- `02-phase1-structure-analysis.md` - æ ¸å¿ƒæ¨¡å—è¯†åˆ«
- ä¼˜å…ˆçº§ç®—æ³•ï¼šå…¥å£æ–‡ä»¶Ã—3 + å¼•ç”¨æ¬¡æ•°Ã—2 + ä»£ç è¡Œæ•°Ã—1
- å¤æ‚åº¦è¯„ä¼°å’Œæ–‡æ¡£è§„åˆ’

## é˜¶æ®µ2: æ·±åº¦æŒ–æ˜
- `03-phase2-deep-analysis.md` - æ¨¡å—æ·±åº¦åˆ†æ
- æ•°æ®æµè¿½è¸ªå’Œæ¶æ„æ¨¡å¼æå–
- æµç¨‹å›¾ç”Ÿæˆè§„èŒƒ

## é˜¶æ®µ3: æ–‡æ¡£ç”Ÿæˆ
- `04-phase3-documentation-generation.md` - æ–‡æ¡£æ¨¡æ¿
- `05-automation-prompts.md` - å®Œæ•´æç¤ºè¯

# æ‰§è¡Œæµç¨‹

1. å…ˆä»é˜¶æ®µ0å¼€å§‹ï¼Œè¿›è¡Œé¡¹ç›®ç”»åƒåˆ†æ
2. åŸºäºç”»åƒç»“æœé€‰æ‹©é€‚å½“çš„æ–‡æ¡£æ¨¡æ¿
3. æŒ‰é˜¶æ®µ1 â†’ é˜¶æ®µ2 â†’ é˜¶æ®µ3 é¡ºåºæ‰§è¡Œ
4. æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œè´¨é‡æ£€æŸ¥

# è¾“å‡ºè¦æ±‚
- ä½¿ç”¨ Mermaid å›¾è¡¨
- ä»£ç å¼•ç”¨ç²¾ç¡®åˆ°è¡Œå·
- ç¬¦åˆ v2 ç‰ˆæœ¬çš„æ–‡æ¡£ç»“æ„è§„èŒƒ
- åŒ…å«æ¡†æ¶ç‰¹å®šçš„æœ€ä½³å®è·µ
```

### æ–¹æ¡ˆ2: æ¨¡å—åŒ– Prompt è°ƒç”¨

```bash
# åˆ†é˜¶æ®µè°ƒç”¨å¤§æ¨¡å‹
neo --prompt @docs/repowiki/v2/01-phase0-project-profile.md --target my-project/
neo --prompt @docs/repowiki/v2/02-phase1-structure-analysis.md --input project-profile.json
neo --prompt @docs/repowiki/v2/03-phase2-deep-analysis.md --input analysis-report.md
neo --prompt @docs/repowiki/v2/04-phase3-documentation-generation.md --input deep-analysis/
```

### æ–¹æ¡ˆ3: é…ç½®æ–‡ä»¶é©±åŠ¨

```yaml
# config.yaml
version: "v2"
prompt_dir: "/docs/repowiki/v2/"

stages:
  - name: "project-profile"
    prompt_file: "01-phase0-project-profile.md"
    output: "project-profile.json"

  - name: "structure-analysis"
    prompt_file: "02-phase1-structure-analysis.md"
    depends_on: "project-profile"

  - name: "deep-analysis"
    prompt_file: "03-phase2-deep-analysis.md"
    depends_on: "structure-analysis"

  - name: "documentation"
    prompt_file: "04-phase3-documentation-generation.md"
    depends_on: "deep-analysis"
```

---

## ğŸ“Š é›†æˆæ–¹å¼

### 1. å‘½ä»¤è¡Œå·¥å…·é›†æˆ

```bash
# ä½¿ç”¨ v2 ç‰ˆæœ¬ç”Ÿæˆæ–‡æ¡£
neo wiki-generate --version v2 --project-dir ./my-project

# æŒ‡å®šç‰¹å®šé˜¶æ®µ
neo wiki-generate --stage phase0 --version v2
neo wiki-generate --stage phase1 --version v2
neo wiki-generate --stage phase2 --version v2
neo wiki-generate --stage phase3 --version v2

# ä½¿ç”¨é…ç½®æ–‡ä»¶
neo wiki-generate --config wiki-config.yaml
```

### 2. API è°ƒç”¨æ–¹å¼

```javascript
// åœ¨ä»£ç ä¸­è°ƒç”¨
const wikiGenerator = require('@neovate/wiki-generator');

const result = await wikiGenerator.generate({
  version: 'v2',
  projectPath: './my-project',
  stages: ['phase0', 'phase1', 'phase2', 'phase3'],
  config: {
    template: 'auto' // æ ¹æ®é¡¹ç›®ç”»åƒè‡ªåŠ¨é€‰æ‹©
  }
});
```

### 3. é…ç½®æ–‡ä»¶æ–¹å¼

```json
{
  "wikiGeneration": {
    "version": "v2",
    "promptDirectory": "./docs/repowiki/v2/",
    "stages": [
      {
        "name": "phase0",
        "prompt": "01-phase0-project-profile.md",
        "output": "project-profile.json"
      },
      {
        "name": "phase1",
        "prompt": "02-phase1-structure-analysis.md",
        "dependsOn": "phase0"
      },
      {
        "name": "phase2",
        "prompt": "03-phase2-deep-analysis.md",
        "dependsOn": "phase1"
      },
      {
        "name": "phase3",
        "prompt": "04-phase3-documentation-generation.md",
        "dependsOn": "phase2"
      }
    ]
  }
}
```

---

## ğŸ¯ å„é˜¶æ®µ Prompt ä½¿ç”¨è¦ç‚¹

### é˜¶æ®µ0: é¡¹ç›®ç”»åƒ (`01-phase0-project-profile.md`)

**è¾“å…¥**: é¡¹ç›®æºä»£ç ç›®å½•
**è¾“å‡º**: é¡¹ç›®ç”»åƒ JSON å’ŒæŠ¥å‘Š
**å…³é”®èƒ½åŠ›**:
- ä¸‰å±‚æŠ€æœ¯æ ˆè¯†åˆ«
- æ¶æ„æ¨¡å¼æ¨æ–­
- ä¸šåŠ¡ç»“æ„æå–
- åŠ¨æ€æ¨¡æ¿é€‰æ‹©

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
# åˆ†æ Next.js é¡¹ç›®
neo --prompt @v2/01-phase0-project-profile.md --project ./nextjs-app/
```

### é˜¶æ®µ1: ç»“æ„åˆ†æ (`02-phase1-structure-analysis.md`)

**è¾“å…¥**: é¡¹ç›®ç”»åƒç»“æœ
**è¾“å‡º**: ç»“æ„åˆ†ææŠ¥å‘Šå’Œæ¨¡å—ä¼˜å…ˆçº§
**å…³é”®èƒ½åŠ›**:
- æ ¸å¿ƒæ¨¡å—è¯†åˆ«ç®—æ³•
- å¤æ‚åº¦è¯„ä¼°
- æ–‡æ¡£è§„åˆ’

### é˜¶æ®µ2: æ·±åº¦æŒ–æ˜ (`03-phase2-deep-analysis.md`)

**è¾“å…¥**: æ¨¡å—ä¼˜å…ˆçº§åˆ—è¡¨
**è¾“å‡º**: æ·±åº¦åˆ†ææŠ¥å‘Šå’Œå›¾è¡¨
**å…³é”®èƒ½åŠ›**:
- ä»£ç æ·±åº¦åˆ†æ
- æ•°æ®æµè¿½è¸ª
- æ¶æ„æ¨¡å¼æå–

### é˜¶æ®µ3: æ–‡æ¡£ç”Ÿæˆ (`04-phase3-documentation-generation.md`)

**è¾“å…¥**: æ·±åº¦åˆ†æç»“æœ
**è¾“å‡º**: å®Œæ•´æ–‡æ¡£åº“
**å…³é”®èƒ½åŠ›**:
- å¤šç§æ–‡æ¡£æ¨¡æ¿
- è´¨é‡æ£€æŸ¥æ ‡å‡†
- è‡ªåŠ¨åŒ–å›¾è¡¨ç”Ÿæˆ

---

## ğŸ”§ è‡ªå®šä¹‰å’Œæ‰©å±•

### æ·»åŠ æ–°çš„é¡¹ç›®ç±»å‹æ¨¡æ¿

1. åœ¨é˜¶æ®µ0çš„æ¨¡æ¿é€‰æ‹©é€»è¾‘ä¸­æ·»åŠ æ–°ç±»å‹
2. åˆ›å»ºå¯¹åº”çš„æ–‡æ¡£æ¨¡æ¿
3. æ›´æ–°çŸ¥è¯†åº“å†…å®¹

### æ‰©å±•åˆ†æç»´åº¦

```yaml
extensions:
  - name: "security-audit"
    prompt: "security-audit.md"
    depends_on: "phase2"

  - name: "performance-review"
    prompt: "performance-review.md"
    depends_on: "phase2"

  - name: "code-quality"
    prompt: "code-quality.md"
    depends_on: "phase1"
```

### è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼

æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼š
- Markdownï¼ˆé»˜è®¤ï¼‰
- HTML
- PDF
- JSONï¼ˆæœºå™¨å¯è¯»ï¼‰

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å¹¶è¡Œå¤„ç†
```yaml
parallelism:
  stage0: 1    # ä¸²è¡Œæ‰§è¡Œ
  stage1: 4    # å¹¶è¡Œåˆ†æ4ä¸ªæ¨¡å—
  stage2: 2    # å¹¶è¡Œåˆ†æ2ä¸ªæ¨¡å—
  stage3: 8    # å¹¶è¡Œç”Ÿæˆ8ä¸ªæ–‡æ¡£
```

### ç¼“å­˜æœºåˆ¶
```bash
# å¯ç”¨ç¼“å­˜
neo wiki-generate --version v2 --cache-enabled

# æ¸…é™¤ç¼“å­˜
neo wiki-generate --version v2 --clear-cache
```

### å¢é‡æ›´æ–°
```bash
# åªåˆ†æå˜æ›´çš„æ–‡ä»¶
neo wiki-generate --version v2 --incremental

# æŒ‡å®šgit commitèŒƒå›´
neo wiki-generate --version v2 --since-commit HEAD~10
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å†…å­˜ä¸è¶³**
   ```bash
   # å¢åŠ å†…å­˜é™åˆ¶
   neo wiki-generate --version v2 --max-memory 4096
   ```

2. **è¶…æ—¶é—®é¢˜**
   ```bash
   # å¢åŠ è¶…æ—¶æ—¶é—´
   neo wiki-generate --version v2 --timeout 3600
   ```

3. **ç¼–ç é—®é¢˜**
   ```bash
   # æŒ‡å®šæ–‡ä»¶ç¼–ç 
   neo wiki-generate --version v2 --encoding utf-8
   ```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
neo wiki-generate --version v2 --verbose

# ä¿å­˜ä¸­é—´ç»“æœ
neo wiki-generate --version v2 --debug --save-intermediate

# ç”Ÿæˆæ‰§è¡ŒæŠ¥å‘Š
neo wiki-generate --version v2 --generate-report
```

---

## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

### ç‰ˆæœ¬å…¼å®¹æ€§

| ç‰ˆæœ¬ | ç‰¹æ€§ | å…¼å®¹æ€§ |
|------|------|--------|
| v1.0 | åŸºç¡€ä¸‰é˜¶æ®µ | å‘åå…¼å®¹ |
| v2.0 | å››é˜¶æ®µ + é¡¹ç›®ç”»åƒ | å½“å‰ç‰ˆæœ¬ |

### å‡çº§æŒ‡å—

ä» v1.0 å‡çº§åˆ° v2.0ï¼š

1. ä¿ç•™åŸæœ‰çš„ä¸‰é˜¶æ®µåˆ†æé€»è¾‘
2. æ–°å¢é˜¶æ®µ0è¿›è¡Œé¡¹ç›®ç”»åƒ
3. æ ¹æ®ç”»åƒç»“æœä¼˜åŒ–åç»­åˆ†æ
4. æ›´æ–°æç¤ºè¯å’Œæ¨¡æ¿ç³»ç»Ÿ

---

## ğŸ“Š ç›‘æ§å’ŒæŒ‡æ ‡

### æ€§èƒ½æŒ‡æ ‡

```json
{
  "performance": {
    "total_time": 125.4,
    "stage0_time": 15.2,
    "stage1_time": 20.1,
    "stage2_time": 45.3,
    "stage3_time": 44.8,
    "memory_peak": 512.5
  },
  "quality": {
    "completeness": 95,
    "accuracy": 92,
    "readability": 88,
    "usability": 90
  }
}
```

### æ—¥å¿—è®°å½•

```bash
# ç”Ÿæˆæ‰§è¡Œæ—¥å¿—
neo wiki-generate --version v2 --log-file generation.log

# è¯¦ç»†çš„æ€§èƒ½æ—¥å¿—
neo wiki-generate --version v2 --perf-log performance.json
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. åˆ†é˜¶æ®µæ‰§è¡Œ
```bash
# å…ˆè¿›è¡Œé¡¹ç›®ç”»åƒ
neo wiki-generate --stage phase0 --version v2

# æ£€æŸ¥ç”»åƒç»“æœåå†ç»§ç»­
neo wiki-generate --stage phase1 --version v2
```

### 2. è´¨é‡æ£€æŸ¥
```bash
# ç”Ÿæˆåè‡ªåŠ¨æ£€æŸ¥è´¨é‡
neo wiki-generate --version v2 --quality-check

# ç”Ÿæˆè´¨é‡æŠ¥å‘Š
neo wiki-generate --version v2 --quality-report quality.json
```

### 3. ç‰ˆæœ¬æ§åˆ¶é›†æˆ
```bash
# ä¸gité›†æˆ
neo wiki-generate --version v2 --git-integration

# ç”Ÿæˆå˜æ›´è®°å½•
neo wiki-generate --version v2 --changelog
```

---

## ğŸ“ ç¤ºä¾‹ç”¨ä¾‹

### ç”¨ä¾‹1: Next.js é¡¹ç›®æ–‡æ¡£ç”Ÿæˆ

```bash
# ç”Ÿæˆ Next.js é¡¹ç›®å®Œæ•´æ–‡æ¡£
neo wiki-generate --version v2 --project ./nextjs-app/ --template frontend-nextjs

# è¾“å‡ºåŒ…å«:
# - App Router æ¶æ„è¯´æ˜
# - Server Components æŒ‡å—
# - API Routes æ–‡æ¡£
# - æ€§èƒ½ä¼˜åŒ–å»ºè®®
```

### ç”¨ä¾‹2: NestJS é¡¹ç›®æ–‡æ¡£ç”Ÿæˆ

```bash
# ç”Ÿæˆ NestJS é¡¹ç›®æ–‡æ¡£
neo wiki-generate --version v2 --project ./nestjs-api/ --template backend-nestjs

# è¾“å‡ºåŒ…å«:
# - æ¨¡å—ç³»ç»Ÿè¯´æ˜
# - ä¾èµ–æ³¨å…¥æ–‡æ¡£
# - å®ˆå«å’Œæ‹¦æˆªå™¨æŒ‡å—
# - å¾®æœåŠ¡æ¶æ„
```

### ç”¨ä¾‹3: CLI å·¥å…·æ–‡æ¡£ç”Ÿæˆ

```bash
# ç”Ÿæˆ CLI å·¥å…·æ–‡æ¡£
neo wiki-generate --version v2 --project ./cli-tool/ --template cli-tool

# è¾“å‡ºåŒ…å«:
# - å‘½ä»¤ç³»ç»Ÿè¯´æ˜
# - ä½¿ç”¨å·¥ä½œæµç¨‹
# - æ’ä»¶å¼€å‘æŒ‡å—
# - é…ç½®ç³»ç»Ÿæ–‡æ¡£
```

---

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸè®¡åˆ’
- [ ] æ”¯æŒæ›´å¤šé¡¹ç›®ç±»å‹æ¨¡æ¿
- [ ] ä¼˜åŒ–æ€§èƒ½å’Œå¤§é¡¹ç›®å¤„ç†
- [ ] å¢å¼ºå¯è§†åŒ–å›¾è¡¨ç”Ÿæˆ

### ä¸­é•¿æœŸè®¡åˆ’
- [ ] æœºå™¨å­¦ä¹ ä¼˜åŒ–åˆ†æç²¾åº¦
- [ ] å®æ—¶åä½œç¼–è¾‘æ”¯æŒ
- [ ] å¤šè¯­è¨€æ–‡æ¡£ç”Ÿæˆ
- [ ] é›†æˆæ›´å¤šå¼€å‘å·¥å…·

---

## ğŸ“š ç›¸å…³èµ„æº

- [v2 ç‰ˆæœ¬è®¾è®¡æ€»è§ˆ](../00-main-plan.md)
- [è‡ªåŠ¨åŒ–æç¤ºè¯è®¾è®¡](../05-automation-prompts.md)
- [å¢å¼ºåŠŸèƒ½è¯´æ˜](../06-enhanced-features.md)
- [GitHub é¡¹ç›®åœ°å€](https://github.com/cloudyan/neovate-code)

---

**è®©æ–‡æ¡£ç”Ÿæˆæ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆã€æ›´è´´åˆé¡¹ç›®éœ€æ±‚!** ğŸš€
